# 面试-场景
## 对于大流量的网站，采用什么样的方法来解决访问量问题？

首先，确认服务器硬件是否足够支持当前的流量

其次，优化数据库访问。

第三，禁止外部的盗链。

第四，控制大文件的下载。

第五，使用不同主机分流主要流量

第六，使用流量分析统计软件

第七，尽量使用静态页，缓存

## 在程序的开发中，如何提高程序的运行效率？
1）优化SQL语句，查询语句中尽量不使用select *，用哪个字段查哪个字段；少用子查询可用表连接代替；少用模糊查询。

（2）数据表中创建索引。

（3）对程序中经常用到的数据生成缓存（比如使用redis缓存数据，比如使用ob进行动态页面静态化等等）。

（4）对mysql做主从复制，读写分离。（提高mysq执行效率和查询速度）

（5）使用nginx做负载均衡。（将访问压力平均分配到多态服务器）

## 安全对一套程序来说至关重要，请说说在开发中应该注意哪些安全机制？

（1）使用验证码防止注册机灌水。

（2）使用预处理，绑定参数，参数过滤转义 防止sql注入

（3）使用token防止远程提交，使用token验证登录状态。

## 如何处理超卖问题
1. mysql悲观锁
2. redis 队列，预先把库存信息存入队列当中，抢购时判断队列的数量，然后出队。队列为空时库存为0。
3. 文件排他锁方式 php函数为flock

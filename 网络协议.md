## 常见的网络协议有哪些

1. TCP/IP
2. HTTP
3. FTP协议
4. Telnet协议
5. SMTP协议
6. NFS协议
7. UDP协议

## 网络几层协议？分别为什么？
1. 应用层：与其它计算机进行通讯的一个应用，它是对应应用程序的通信服务的，如http，ftp
2. 表示层：主要功能是定义数据格式及加密
3. 会话层：定义了如何开始、控制和结束一个会话，包括对多个双向消息的控制和管理，以便在只完成连续消息的一部分时可以通知应用
4. 传输层：这层的功能包括是选择差错恢复协议还是无差错恢复协议，及在同一主机上对不同应用的数据流的输入进行复用，还包括对收到的顺序不对的数据包的重新排序功能
5. 网络层：这层对端到端的包传输进行定义，它定义了能够标识所有结点的逻辑地址，还定义了路由实现的方式和学习的方式。为了适应最大传输单元长度小于包长度的传输介质，网络层还定义了如何将一个包分解成更小的包的分段方法。示例：IP，IPX等
6. 数据链路层：它定义了在单个链路上如何传输数据。这些协议与被讨论的各种介质有关
7. 物理层：OSI的物理层规范是有关传输介质的特性，这些规范通常也参考了其他组织制定的标准。连接头、帧、帧的使用、电流、编码及光调制等都属于各种物理层规范中的内容。物理层常用多个规范完成对所有细节的定义。

## http和https的区别
1. http是超文本传输协议，信息是明文传输，https是具有安全性的ssl加密传输协议
2. http和https使用的是完全不同的连接方式，端口也不一样，前者80 或者443
3. http连接很简单，是无状态的。https协议是由ssl+http协议构建的可进行加密传输，身份认证的网络协议。

## 什么是tcp/ip协议
TCP/IP传输协议，即传输控制/网络协议，也叫作网络通讯协议。它是在网络的使用中的最基本的通信协议。TCP/IP传输协议对互联网中各部分进行通信的标准和方法进行了规定。并且，TCP/IP传输协议是保证网络数据信息及时、完整传输的两个重要的协议。

## TCP/IP协议的组成
TCP/IP协议由四个层次组成：
应用层：应用层是TCP/IP协议的第一层，是直接为应用进程提供服务的。

（1）对不同种类的应用程序它们会根据自己的需要来使用应用层的不同协议，邮件传输应用使用了SMTP协议、万维网应用使用了HTTP协议、远程登录服务应用使用了有TELNET协议。 

（2）应用层还能加密、解密、格式化数据。

（3）应用层可以建立或解除与其他节点的联系，这样可以充分节省网络资源。 

运输层：作为TCP/IP协议的第二层，运输层在整个TCP/IP协议中起到了中流砥柱的作用。且在运输层中，TCP和UDP也同样起到了中流砥柱的作用。 

网络层：网络层在TCP/IP协议中的位于第三层。在TCP/IP协议中网络层可以进行网络连接的建立和终止以及IP地址的寻找等功能。 

网络接口层：在TCP/IP协议中，网络接口层位于第四层。由于网络接口层兼并了物理层和      数据链路层所以，网络接口层既是传输数据的物理媒介，也可以为网络层提供一条准确无误的线路。

### TCP/IP协议的特点
1）协议标准是完全开放的，可以供用户免费使用，并且独立于特定的计算机硬件与操作系统。

（2）独立于网络硬件系统，可以运行在广域网，更适合于互联网。

（3）网络地址统一分配，网络中每一设备和终端都具有一个唯一地址。

（4）高层协议标准化，可以提供多种多样可靠网络服务。

### TCP的理解
TCP是面向连接的、可靠的、基于字节流的传输层通信协议，建立连接时会有三次握手，断开连接时会有四次挥手

- 三次握手

  1. 客户端: SYN=1,seq=x （请问是否可以建立连接）
  2. 服务端：SYN=1,ACK=1,seq=y,ack=x+1 （确定可以连接）
  3. 客户端：ACK=1,seq=x+1,ack=y+1 （好的我知道了）
  

- 四次挥手
  1. 客户端：FIN=1,seq=u(u等于前面已经传送过来的数据的最后一个字节的序号加1)
  2. 服务端：ACK=1,seq=v,ack=u+1 (好的我知道了... )
  
        等待服务端讲剩下的数据发送完毕...

  3. 服务端：FIN=1,ACK=1,seq=w（w等于剩下数据发送完后的序列号+1）,ack=u+1 (确定要关闭嘛)
  4. 客户端：ACK=1,seq=u+1,ack=w+1 (是的拜拜)
  
  此时服务端会直接关闭连接，而客户端是有一个超时等待时间，保证最后的ACK包能到达服务端，如果这个ACK包体丢失，服务端会再一次发送FIN包。

- TCP如何处理丢包和乱序问题

TCP为每一个连接创建了发送缓冲区，从建立连接后的第一个字节序列号为0，后面的每一个字节序列号都会加1，发送数据时，取一部分数据组成发送报文，报文的结构为：序列号+长度+数据内容，接收端在收到数据之后，需要返回一个ACK=序列号+长度=下一包起始序列号。发送端可以连续发送多包数据，接收方只需要回复一次ACK即可。

- 为什么TCP在使用的时候会沾包，如何解决。
因为TCP没有数据边界，是一个流协议。
解决方案：
1. 包封装成固定大小（不足的用0补齐）
2. 包末尾加制定特殊字符
3. 每个包结构定为：消息头+消息体 用的最多的方法是这个

